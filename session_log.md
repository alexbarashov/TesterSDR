# Сессия разработки GUI для TesterSDR

## Дата: 2025-09-19

### Задача
Создать GUI приложение на PySide6/Qt для тестирования сигналов маяков 406 МГц, похожее на COSPAS Beacon Tester v2.

### Выполненная работа

1. **Создан новый файл `apps/beacon_tester_gui.py`** - полноценное GUI приложение для тестирования маяков COSPAS-SARSAT

2. **Реализованные компоненты:**
   - Главное окно с вкладками для различных режимов работы
   - Панель управления SDR (выбор устройства, частота, усиление, sample rate)
   - Виджет отображения спектра в реальном времени с маркером пика
   - Виджет водопада для визуализации истории сигналов
   - Вкладка декодированных сообщений маяков
   - Вкладка параметров PSK сигнала с графиком фазы
   - Вкладка статистики приема
   - Вкладка лога с возможностью сохранения
   - Темная тема интерфейса

3. **Интеграция с существующими модулями:**
   - Использованы модули из `beacon406.lib.backends` для работы с SDR
   - Интегрирована демодуляция PSK из `beacon406.lib.demod`
   - Подключена обработка фазовых метрик из `beacon406.lib.metrics`
   - Поддержка всех бэкендов: RTL-SDR, HackRF, Airspy, SDRPlay, RSA306, файлы

4. **Исправленные проблемы:**
   - Заменен импорт `get_backend` на `make_backend` (правильное имя функции)
   - Исправлен импорт `calculate_phase_metrics` на `process_psk_impulse`
   - Убраны вызовы `setLabel` у `ImageView` (метод отсутствует)
   - Перенесен импорт `SDR_DEFAULT_HW_SR` из config в backends

5. **Установленные зависимости:**
   - PySide6 - фреймворк Qt для Python
   - pyqtgraph - библиотека для научной визуализации

### Архитектура приложения

- **SignalProcessor (QThread)** - отдельный поток для обработки сигналов SDR
  - Чтение данных из SDR/файла
  - Расчет FFT и спектра
  - Демодуляция PSK
  - Отправка сигналов в GUI

- **BeaconTesterMainWindow** - главное окно приложения
  - Управление интерфейсом
  - Обработка событий пользователя
  - Обновление визуализации

- **Специализированные виджеты:**
  - SpectrumWidget - отображение спектра
  - WaterfallWidget - водопад сигналов

### Запуск приложения

```bash
cd C:/work/TesterSDR
python apps/beacon_tester_gui.py
```

### Использование

1. Выбрать источник данных (file для записей или название SDR)
2. Для файлов - нажать "Выбрать файл..." и указать запись из captures/
3. Настроить частоту (406.037 МГц для маяков)
4. Нажать "Старт" для начала обработки
5. Наблюдать спектр, водопад и декодированные сообщения

### Статус
✅ Приложение успешно создано и запускается
✅ Интерфейс полностью функционален
✅ Интеграция с модулями обработки сигналов работает
✅ Поддержка всех SDR бэкендов реализована